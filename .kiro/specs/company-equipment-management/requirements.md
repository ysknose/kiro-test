# 要件ドキュメント

## はじめに

会社の備品管理アプリケーションは、組織内の物理的な資産（備品）を追跡・管理するためのシステムです。このシステムにより、備品の在庫状況、貸出状況、メンテナンス履歴を効率的に管理できます。

## 用語集

- **備品管理システム**: 会社の備品を追跡・管理するアプリケーション
- **備品**: 会社が所有する物理的な資産（例：ノート PC、モニター、デスク、椅子など）
- **ユーザー**: システムを使用する従業員
- **管理者**: 備品の追加・削除・編集権限を持つユーザー
- **貸出記録**: 備品がどのユーザーに貸し出されているかの記録
- **在庫**: 現在利用可能な備品の数量

## 要件

### 要件 1

**ユーザーストーリー:** 管理者として、新しい備品をシステムに登録したい。そうすることで、会社の資産を正確に追跡できる。

#### 受入基準

1. WHEN 管理者が備品名、カテゴリ、数量、説明、購入日、耐用年数を入力して登録ボタンを押す THEN 備品管理システムは新しい備品レコードを作成し、一意の ID を割り当てる
2. WHEN 管理者が必須フィールド（備品名、カテゴリ、購入日）を空のまま登録しようとする THEN 備品管理システムは登録を拒否し、エラーメッセージを表示する
3. WHEN 備品が登録される THEN 備品管理システムは登録日時を自動的に記録する
4. WHEN 備品が登録される THEN 備品管理システムはデータをストレージに永続化する
5. WHEN 管理者が購入日を入力する THEN 備品管理システムは有効な日付形式であることを検証する

### 要件 2

**ユーザーストーリー:** ユーザーとして、利用可能な備品を検索・閲覧したい。そうすることで、必要な備品を見つけて借りることができる。

#### 受入基準

1. WHEN ユーザーが備品一覧ページにアクセスする THEN 備品管理システムはすべての備品を表示する
2. WHEN ユーザーがカテゴリでフィルタリングする THEN 備品管理システムは選択されたカテゴリに属する備品のみを表示する
3. WHEN ユーザーが備品名で検索する THEN 備品管理システムは検索キーワードに一致する備品を表示する
4. WHEN ユーザーが備品の詳細を表示する THEN 備品管理システムは備品名、カテゴリ、説明、在庫数、貸出状況を表示する

### 要件 3

**ユーザーストーリー:** ユーザーとして、備品を借りたい。そうすることで、業務に必要な道具を使用できる。

#### 受入基準

1. WHEN ユーザーが利用可能な備品を選択して貸出リクエストを送信する THEN 備品管理システムは貸出記録を作成し、在庫数を 1 減らす
2. WHEN ユーザーが在庫数が 0 の備品を借りようとする THEN 備品管理システムは貸出を拒否し、在庫切れメッセージを表示する
3. WHEN 貸出記録が作成される THEN 備品管理システムはユーザー ID、備品 ID、貸出日時を記録する
4. WHEN 貸出が完了する THEN 備品管理システムは更新された在庫状況を即座に反映する

### 要件 4

**ユーザーストーリー:** ユーザーとして、借りている備品を返却したい。そうすることで、他のユーザーがその備品を使用できるようにする。

#### 受入基準

1. WHEN ユーザーが借りている備品を選択して返却ボタンを押す THEN 備品管理システムは貸出記録を完了状態にし、在庫数を 1 増やす
2. WHEN 返却が処理される THEN 備品管理システムは返却日時を記録する
3. WHEN ユーザーが借りていない備品を返却しようとする THEN 備品管理システムは返却を拒否し、エラーメッセージを表示する
4. WHEN 返却が完了する THEN 備品管理システムは更新された在庫状況を即座に反映する

### 要件 5

**ユーザーストーリー:** 管理者として、備品情報を編集・削除したい。そうすることで、正確な備品データを維持できる。

#### 受入基準

1. WHEN 管理者が備品情報を編集して保存する THEN 備品管理システムは変更を永続化し、更新日時を記録する
2. WHEN 管理者が貸出中の備品を削除しようとする THEN 備品管理システムは削除を拒否し、警告メッセージを表示する
3. WHEN 管理者が貸出されていない備品を削除する THEN 備品管理システムは備品レコードを削除する
4. WHEN 備品情報が更新される THEN 備品管理システムは変更履歴を記録する

### 要件 6

**ユーザーストーリー:** 管理者として、貸出履歴を確認したい。そうすることで、備品の使用状況を把握し、適切な在庫管理ができる。

#### 受入基準

1. WHEN 管理者が貸出履歴ページにアクセスする THEN 備品管理システムはすべての貸出記録を表示する
2. WHEN 管理者が特定の備品の履歴を表示する THEN 備品管理システムはその備品に関連するすべての貸出記録を時系列順に表示する
3. WHEN 管理者が特定のユーザーの履歴を表示する THEN 備品管理システムはそのユーザーのすべての貸出記録を時系列順に表示する
4. WHEN 貸出記録が表示される THEN 備品管理システムは備品名、ユーザー名、貸出日時、返却日時、ステータスを含める

### 要件 7

**ユーザーストーリー:** ユーザーとして、自分が現在借りている備品を確認したい。そうすることで、返却すべき備品を把握できる。

#### 受入基準

1. WHEN ユーザーがマイページにアクセスする THEN 備品管理システムはそのユーザーが現在借りている備品のリストを表示する
2. WHEN ユーザーが借りている備品がない THEN 備品管理システムは「現在借りている備品はありません」というメッセージを表示する
3. WHEN 借りている備品リストが表示される THEN 備品管理システムは各備品の名前、カテゴリ、貸出日を表示する
